{{body-class "groups-new-page"}}

<section>
  <h1>{{i18n "admin.groups.new.title"}}</h1>

  <hr />

  <form class="groups-form form-vertical">
    <GroupsFormProfileFields @model={{this.model}} @disableSave={{this.saving}}>
      <div class="control-group">
        <label class="control-label" for="owner-selector">{{i18n
            "admin.groups.add_owners"
          }}</label>

        <EmailGroupUserChooser
          @id="owner-selector"
          @value={{this.splitOwnerUsernames}}
          @onChange={{action "updateOwnerUsernames"}}
          @options={{hash filterPlaceholder="groups.selector_placeholder"}}
          class="input-xxlarge"
        />
      </div>

      <div class="control-group">
        <label class="control-label" for="member-selector">{{i18n
            "groups.members.title"
          }}</label>

        <EmailGroupUserChooser
          @id="member-selector"
          @value={{this.splitUsernames}}
          @onChange={{action "updateUsernames"}}
          @options={{hash filterPlaceholder="groups.selector_placeholder"}}
          class="input-xxlarge"
        />
      </div>
    </GroupsFormProfileFields>

    <GroupsFormMembershipFields @model={{this.model}} />
    <GroupsFormInteractionFields @model={{this.model}} />

    <div class="control-group buttons">
      <DButton
        @action={{this.save}}
        @disabled={{this.saving}}
        @label="admin.groups.new.create"
        type="submit"
        class="btn-primary group-form-save"
      />

      <LinkTo @route="groups">
        {{i18n "cancel"}}
      </LinkTo>
    </div>
  </form>
</section>